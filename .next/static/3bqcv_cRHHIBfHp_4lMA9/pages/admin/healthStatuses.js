(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"582o":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/healthStatuses",function(){return r("b7b2")}])},JSDL:function(e,t,r){"use strict";var a=r("1OyB"),n=r("Ji7U"),o=r("md7G"),c=r("foSv");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=Object(c.a)(e);if(t){var n=Object(c.a)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return Object(o.a)(this,r)}}var s=function(e){Object(n.a)(r,e);var t=u(r);function r(e){var n;return Object(a.a)(this,r),(n=t.call(this,e)).name="healthStatuses",n}return r}(r("zjTY").a);t.a=s},b7b2:function(e,t,r){"use strict";r.r(t);var a=r("o0o1"),n=r.n(a),o=r("ODXe"),c=r("HaE+"),u=r("dk5U"),s=r("ihUu"),i=r("jz6S"),l=r("2/Rp"),d=r("JSDL"),f=r("FxId"),h=r("q1tI"),p=r.n(h),b=r("38j0"),m=r("6nNS"),S=r("w5pM"),g=r("/MfK"),w=p.a.createElement,y=function(e){var t=e.healths,r=e.total,a=Object(b.a)(),y=a.t,v=a.notify,x=a.redirect,j=(a.setStore,a.getAuth,a.getStore,Object(h.useState)(!0)),k=j[0],O=j[1],R=Object(h.useState)([]),I=R[0],D=R[1],C=new d.a,N=p.a.createRef(),P=p.a.createRef(),_=Object(m.a)().checkPermission,J=_({"doctor.healthStatuses":"C"}),E=_({"doctor.healthStatuses":"D"}),q=[{title:y("patient"),dataIndex:"patientName",key:"patients.fullname",sorter:!0,filterable:!0,fixed:"left",render:function(e,t){return w("a",{onClick:function(){return x("frontend.admin.healthStatuses.edit",{id:t.id})}},t.patientCode," - ",t.patientName," - ",t.roomCode," - ",t.bedCode)}},{title:y("healthStatuses.date"),dataIndex:"date",key:"date",sorter:!0,filterDate:!0,fixed:"left",width:"9%",render:function(e,t){return w("div",null,(r=(r=(r=e)?String(r):"").substr(0,10),"".concat(r)));var r}},{title:y("doctor"),dataIndex:"doctorName",key:"users.fullname",sorter:!0,filterable:!0,render:function(e,t){return w("div",null,t.doctorCode," - ",t.doctorName)}},{title:y("healthStatuses.weight")+" (Kg)",dataIndex:"weight",key:"weight"},{title:y("healthStatuses.bloodPressure")+" (mmHg)",dataIndex:"bloodPressure",key:"bloodPressure"},{title:y("healthStatuses.bloodSugar")+" (mg/dL)",dataIndex:"bloodSugar",key:"bloodSugar"},{title:y("healthStatuses.heartRate")+" (BPM)",dataIndex:"heartRate",key:"heartRate"},{title:y("note"),dataIndex:"note",key:"note"}],K=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a,c,u,s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(C.index(t));case 2:if(r=e.sent,a=Object(o.a)(r,2),c=a[0],u=a[1],!c){e.next=10;break}return s=c.code,i=c.message,v(y("errors:".concat(s)),y(i),"error"),e.abrupt("return",{});case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(c.a)(n.a.mark((function e(){var t,r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(C.delete({ids:I}));case 2:if(t=e.sent,r=Object(o.a)(t,2),a=r[0],r[1],!a){e.next=8;break}return e.abrupt("return",v(y("errors:".concat(a.code)),y("".concat(a.message)),"error"));case 8:v(y("message.recordDeleted")),null!==P.current&&P.current.reload(),D([]),O(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w(u.a,null,w("div",{className:"content"},w(l.a,{hidden:!J,onClick:function(){return x("frontend.admin.healthStatuses.create")},type:"primary",className:"btn-top"},w(S.a,null),y("create")),w(l.a,{danger:!0,onClick:function(){N.current&&N.current.show()},className:"btn-top",hidden:k||!E},w(g.a,null),y("delete")),w(s.a,{ref:P,columns:q,data:t,rowSelection:{selectedRowKeys:I,onChange:function(e){return function(e){e.length>0?O(!1):O(!0),D(e)}(e)}},fetchData:K,total:r,scroll:{x:1500}}),w(i.a,{ref:N,onSubmit:L,title:y("deleteItem"),content:y("message.deleteConfirm")})))};y.getInitialProps=function(){var e=Object(c.a)(n.a.mark((function e(t){var r,a,c,u,i,l,h,p;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new d.a(t),a={filters:[],sorting:[]},c=t.query,u=s.b.getOptions(c,a),e.next=6,Object(f.a)(r.index(u));case 6:return i=e.sent,l=Object(o.a)(i,2),h=l[0],p=l[1],e.abrupt("return",{namespacesRequired:["common","pages","menu","errors"],error:h,healths:b.a.getData(p,"data",[]),total:b.a.getData(p,"total",0),defaultQuery:{filters:s.b.makeQuery(u)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y.permissions={"doctor.healthStatuses":"R","nurse.healthStatuses":"R"},t.default=y}},[["582o",1,2,3,5,0,4,6,7,8,9,10,11]]]);
//# sourceMappingURL=healthStatuses.js.map