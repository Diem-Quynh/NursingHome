{"version":3,"sources":["webpack:///./node_modules/@ant-design/icons-svg/es/asn/LeftCircleFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/LeftCircleFilled.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/SaveFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/SaveFilled.js","webpack:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?fd8c","webpack:///./node_modules/@ant-design/icons-svg/es/asn/DeleteFilled.js","webpack:///./node_modules/@ant-design/icons/es/icons/DeleteFilled.js","webpack:///./pages/admin/userGroups/edit.tsx","webpack:///./themes/services/api/UserGroupService.ts"],"names":["props","ref","AntdIcon","Object","assign","icon","displayName","window","__NEXT_P","push","formItemLayout","Typography","Title","Text","Select","Option","labelCol","xs","span","sm","wrapperCol","Edit","group","groupError","useBaseHook","t","notify","redirect","router","useState","loading","setLoading","Form","useForm","form","userGroupService","UserGroupService","confirmRef","React","createRef","deletePer","checkPermission","usePermissionHook","DisplayError","err","code","message","onFinish","values","a","to","edit","id","error","onDelete","ids","className","name","initialValues","description","scrollToFirstError","Item","label","rules","required","style","textAlign","onClick","back","marginRight","type","htmlType","hidden","danger","current","show","onSubmit","title","content","getInitialProps","ctx","query","detail","namespacesRequired","permissions","UserGroups","context","BaseApi"],"mappings":"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","file":"static\\3bqcv_cRHHIBfHp_4lMA9\\pages\\admin\\userGroups\\edit.js","sourcesContent":["// This icon file is generated automatically.\nvar LeftCircleFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm104 316.9c0 10.2-4.9 19.9-13.2 25.9L457.4 512l145.4 105.2c8.3 6 13.2 15.6 13.2 25.9V690c0 6.5-7.4 10.3-12.7 6.5l-246-178a7.95 7.95 0 010-12.9l246-178a8 8 0 0112.7 6.5v46.8z\" } }] }, \"name\": \"left-circle\", \"theme\": \"filled\" };\nexport default LeftCircleFilled;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LeftCircleFilledSvg from \"@ant-design/icons-svg/es/asn/LeftCircleFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LeftCircleFilled = function LeftCircleFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: LeftCircleFilledSvg\n  }));\n};\n\nLeftCircleFilled.displayName = 'LeftCircleFilled';\nexport default React.forwardRef(LeftCircleFilled);","// This icon file is generated automatically.\nvar SaveFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M893.3 293.3L730.7 130.7c-12-12-28.3-18.7-45.3-18.7H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 176h256v112H384V176zm128 554c-79.5 0-144-64.5-144-144s64.5-144 144-144 144 64.5 144 144-64.5 144-144 144zm0-224c-44.2 0-80 35.8-80 80s35.8 80 80 80 80-35.8 80-80-35.8-80-80-80z\" } }] }, \"name\": \"save\", \"theme\": \"filled\" };\nexport default SaveFilled;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SaveFilledSvg from \"@ant-design/icons-svg/es/asn/SaveFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SaveFilled = function SaveFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: SaveFilledSvg\n  }));\n};\n\nSaveFilled.displayName = 'SaveFilled';\nexport default React.forwardRef(SaveFilled);","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/admin/userGroups/edit\",\n      function () {\n        return require(\"private-next-pages/admin/userGroups/edit.tsx\");\n      }\n    ]);\n  ","// This icon file is generated automatically.\nvar DeleteFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z\" } }] }, \"name\": \"delete\", \"theme\": \"filled\" };\nexport default DeleteFilled;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteFilledSvg from \"@ant-design/icons-svg/es/asn/DeleteFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteFilled = function DeleteFilled(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteFilledSvg\n  }));\n};\n\nDeleteFilled.displayName = 'DeleteFilled';\nexport default React.forwardRef(DeleteFilled);","import ConfirmDialog from 'themes/components/Dialogs/ConfirmDialog';\r\n\r\nimport React, { useState } from 'react'\r\nimport Layout from 'themes/layouts/Admin'\r\nimport { Button, Row, Col, Form, Input, Select, Typography } from 'antd';\r\nimport UserGroupService from 'themes/services/api/UserGroupService';\r\nimport _ from 'lodash';\r\nimport to from 'await-to-js'\r\nimport useBaseHook from 'themes/hooks/BaseHooks'\r\nimport { LeftCircleFilled, SaveFilled, DeleteFilled } from '@ant-design/icons';\r\nimport BreadCrumb from 'themes/components/Breadcumb'\r\nimport usePermissionHook from \"themes/hooks/PermissionHook\";\r\nconst { Title, Text } = Typography;\r\n\r\nconst { Option } = Select\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 4 },\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 24 },\r\n    sm: { span: 18 },\r\n  },\r\n};\r\n\r\n\r\nconst Edit = ({ group, groupError }: { group: UserGroup, groupError: any }) => {\r\n  const { t, notify, redirect, router } = useBaseHook();\r\n  const [loading, setLoading] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const userGroupService = new UserGroupService()\r\n  const confirmRef = React.createRef<ConfirmDialog>()\r\n  const { checkPermission } = usePermissionHook();\r\n  const deletePer = checkPermission({\r\n    \"root\": \"D\"\r\n  })\r\n  const DisplayError = (err: any) => {\r\n    return notify(t(`errors:${err.code}`), t(err.message), 'error')\r\n  }\r\n  //submit form\r\n  const onFinish = async (values: any): Promise<void> => {\r\n    if(groupError) return DisplayError(groupError)\r\n    setLoading(true)\r\n    let [error, result]: any[] = await to(userGroupService.edit({\r\n      id: group.id,\r\n      values\r\n    }));\r\n    setLoading(false)\r\n    if (error) return DisplayError(error)\r\n    notify(t(\"message.recordUpdated\"))\r\n    redirect(\"frontend.admin.userGroups.index\")\r\n  }\r\n\r\n  const onDelete = async (): Promise<void> => {\r\n    if(groupError) return DisplayError(groupError)\r\n    let [error, result]: any[] = await to(userGroupService.delete({ ids: [group.id] }));\r\n    if (error) return DisplayError(error)\r\n    notify(t('message.recordDeleted'))\r\n    redirect(\"frontend.admin.userGroups.index\")\r\n  }\r\n\r\n  const renderDeleteDialog = () => {\r\n    return (\r\n      <ConfirmDialog\r\n        ref={confirmRef}\r\n        onSubmit={onDelete}\r\n        title={t('deleteItem')}\r\n        content={t('message.deleteConfirm')}\r\n      />\r\n    )\r\n  }\r\n\r\n\r\n  return <Layout>\r\n    <div className=\"content\">\r\n      <Form\r\n        {...formItemLayout}\r\n        form={form}\r\n        name=\"createUserGroup\"\r\n        initialValues={{\r\n          name: group.name,\r\n          description: group.description,\r\n        }}\r\n        onFinish={onFinish}\r\n        scrollToFirstError\r\n      >\r\n        <Form.Item\r\n          label={t(\"name\")}\r\n          name=\"name\"\r\n          rules={[\r\n            { required: true, message: t('form.required') },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label={t(\"description\")}\r\n          name=\"description\"\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item wrapperCol={{ span: 24 }} style={{ textAlign: \"center\" }}>\r\n          <Button onClick={() => router.back()} style={{ marginRight: 8 }}>\r\n            <LeftCircleFilled /> {t('cancel')}\r\n          </Button>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading} style={{ marginRight: 8 }}>\r\n            <SaveFilled /> {t('submit')}\r\n          </Button>\r\n          <Button hidden={!deletePer} danger onClick={() => { if (confirmRef.current) confirmRef.current.show(group.id) }}>\r\n            <DeleteFilled /> {t('deleteItem')}\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      {renderDeleteDialog()}\r\n    </div>\r\n  </Layout>\r\n}\r\n\r\nEdit.getInitialProps = async (ctx: any) => {\r\n  const userGroupService = new UserGroupService(ctx)\r\n  const query = ctx.query;\r\n  let error: any;\r\n\r\n  if (!query.id) {\r\n    //error missing id\r\n    error = {\r\n      code: 9996,\r\n      message: 'missing ID'\r\n    }\r\n  }\r\n\r\n  let [groupError, group] = await to(userGroupService.detail({ id: query.id }));\r\n  if(groupError) group = {}\r\n  return {\r\n    namespacesRequired: ['common', 'pages', 'menu','errors'],\r\n    error: error,\r\n    group: group,\r\n    groupError: groupError\r\n  }\r\n}\r\nEdit.permissions = {\r\n  \"root\": \"U\"\r\n}\r\nexport default Edit","import BaseApi from './BaseService'\r\n\r\nclass UserGroups extends BaseApi {\r\n  constructor(context?: Context){\r\n    super(context)\r\n    this.name = 'userGroups'; //kế thừa CRUD từ thằng cha\r\n  }\r\n}\r\n\r\nexport default UserGroups"],"sourceRoot":""}