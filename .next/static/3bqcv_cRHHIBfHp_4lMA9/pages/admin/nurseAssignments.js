(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{U3BS:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/nurseAssignments",function(){return n("bn1t")}])},bn1t:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),s=n("ODXe"),u=n("HaE+"),i=n("dk5U"),c=n("ihUu"),o=n("jz6S"),d=n("2/Rp"),f=n("zs3i"),l=n("FxId"),m=n("q1tI"),p=n.n(m),b=n("38j0"),g=n("6nNS"),h=n("w5pM"),w=n("/MfK"),v=p.a.createElement,y=function(e){return e=(e=e?String(e):"").substr(0,10),"".concat(e)},j=function(e){var t=e.nurseAssigns,n=e.total,r=Object(b.a)(),j=r.t,O=r.notify,k=r.redirect,x=(r.setStore,r.getAuth,r.getStore,Object(m.useState)(!0)),A=x[0],R=x[1],S=Object(m.useState)([]),C=S[0],D=S[1],N=new f.a,I=p.a.createRef(),E=p.a.createRef(),B=Object(g.a)().checkPermission,_=B({"admin.nurseAssignments":"C"}),P=B({"admin.nurseAssignment":"D"}),U=[{title:j("nurse"),dataIndex:"nurseName",key:"users.fullname",sorter:!0,filterable:!0,render:function(e,t){return v("a",{onClick:function(){return k("frontend.admin.nurseAssignments.edit",{id:t.id})}},t.nurseCode," - ",t.nurseName)}},{title:j("patient"),dataIndex:"patientName",key:"patients.fullname",sorter:!0,filterable:!0,render:function(e,t){return v("div",null,t.patientCode," - ",t.patientName," - ",t.roomCode," - ",t.bedCode)}},{title:j("nurseAssignments.dateBegin"),dataIndex:"dateBegin",key:"dateBegin",sorter:!0,filterDate:!0,width:"15%",render:function(e,t){return v("div",null,y(e))}},{title:j("nurseAssignments.dateEnd"),dataIndex:"dateEnd",key:"dateEnd",sorter:!0,filterDate:!0,width:"15%",render:function(e,t){return v("div",null,y(e))}},{title:j("note"),dataIndex:"note",key:"note"}],z=function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,u,i,c,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(N.index(t));case 2:if(n=e.sent,r=Object(s.a)(n,2),u=r[0],i=r[1],!u){e.next=10;break}return c=u.code,o=u.message,O(j("errors:".concat(c)),j(o),"error"),e.abrupt("return",{});case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)(N.delete({ids:C}));case 2:if(t=e.sent,n=Object(s.a)(t,2),r=n[0],n[1],!r){e.next=8;break}return e.abrupt("return",O(j("errors:".concat(r.code)),j("".concat(r.message)),"error"));case 8:O(j("message.recordDeleted")),null!==E.current&&E.current.reload(),D([]),R(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return v(i.a,null,v("div",{className:"content"},v(d.a,{hidden:!_,onClick:function(){return k("frontend.admin.nurseAssignments.create")},type:"primary",className:"btn-top"},v(h.a,null),j("create")),v(d.a,{danger:!0,onClick:function(){I.current&&I.current.show()},className:"btn-top",hidden:A||!P},v(w.a,null),j("delete")),v(c.a,{ref:E,columns:U,data:t,rowSelection:{selectedRowKeys:C,onChange:function(e){return function(e){e.length>0?R(!1):R(!0),D(e)}(e)}},fetchData:z,total:n}),v(o.a,{ref:I,onSubmit:q,title:j("deleteItem"),content:j("message.deleteConfirm")})))};j.getInitialProps=function(){var e=Object(u.a)(a.a.mark((function e(t){var n,r,u,i,o,d,m,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new f.a(t),r={filters:[],sorting:[]},u=t.query,i=c.b.getOptions(u,r),e.next=6,Object(l.a)(n.index(i));case 6:return o=e.sent,d=Object(s.a)(o,2),m=d[0],p=d[1],e.abrupt("return",{namespacesRequired:["common","pages","menu","errors"],error:m,nurseAssigns:b.a.getData(p,"data",[]),total:b.a.getData(p,"total",0),defaultQuery:{filters:c.b.makeQuery(i)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j.permissions={"admin.nurseAssignments":"R","nurse.nurseAssignments":"R","admin.users.nurseAssignments":"R"},t.default=j},zs3i:function(e,t,n){"use strict";var r=n("1OyB"),a=n("Ji7U"),s=n("md7G"),u=n("foSv");function i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(s.a)(this,n)}}var c=function(e){Object(a.a)(n,e);var t=i(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).name="nurseAssignments",a}return n}(n("zjTY").a);t.a=c}},[["U3BS",1,2,3,5,0,4,6,7,8,9,10,11]]]);
//# sourceMappingURL=nurseAssignments.js.map