(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{SThx:function(e,t,r){"use strict";r.r(t);var n=r("o0o1"),a=r.n(n),c=r("ODXe"),o=r("HaE+"),u=r("dk5U"),i=r("ihUu"),s=r("jz6S"),d=r("wFql"),l=r("2/Rp"),f=r("rxce"),p=r("FxId"),m=r("q1tI"),b=r.n(m),h=r("38j0"),w=r("w5pM"),x=r("/MfK"),v=r("6nNS"),y=b.a.createElement,O=(d.a.Title,d.a.Text,function(e){var t=e.userGroups,r=e.total,n=Object(h.a)(),d=n.t,O=n.notify,j=n.redirect,g=(n.setStore,n.getAuth,n.getStore,Object(m.useState)(!0)),k=g[0],G=g[1],R=Object(m.useState)([]),S=R[0],C=R[1],D=new f.a,T=b.a.createRef(),I=b.a.createRef(),N=Object(v.a)().checkPermission,q=N({root:"C"}),_=N({root:"D"}),z=N({root:"U"}),P=[{title:d("name"),dataIndex:"name",key:"name",filterable:!0,sorter:!0,render:function(e,t){return y("a",{onClick:function(){return j("frontend.admin.userGroups.edit",{id:t.id})}},t.name)}},{title:d("description"),dataIndex:"description",key:"description"},{title:d("userGroups.decentralization"),dataIndex:"decentralization",key:"decentralization",render:function(e,t){return q||z?y(l.a,{onClick:function(){return j("frontend.admin.userGroups.role",{id:t.id,name:t.name})},type:"primary",className:"btn-top"},y(w.a,null),d("userGroups.add")):""}}],E=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o,u,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(D.index(t));case 2:if(r=e.sent,n=Object(c.a)(r,2),o=n[0],u=n[1],!o){e.next=10;break}return i=o.code,s=o.message,O(d("errors:".concat(i)),d(s),"error"),e.abrupt("return",{});case 10:return e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(D.delete({ids:S}));case 2:if(t=e.sent,r=Object(c.a)(t,2),n=r[0],r[1],!n){e.next=8;break}return e.abrupt("return",O(d("errors:".concat(n.code)),d("".concat(n.message)),"error"));case 8:O(d("message.recordDeleted")),null!==I.current&&I.current.reload(),C([]),G(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return y(u.a,{title:d("pages:userGroups.index.title"),description:d("pages:userGroups.index.description")},y("div",{className:"content"},y(l.a,{hidden:!q,onClick:function(){return j("frontend.admin.userGroups.create")},type:"primary",className:"btn-top"},y(w.a,null),d("create")),y(l.a,{danger:!0,onClick:function(){T.current&&T.current.show()},className:"btn-top",hidden:k||!_},y(x.a,null),d("delete")),y(i.a,{ref:I,columns:P,data:t,rowSelection:{selectedRowKeys:S,onChange:function(e){return function(e){e.length>0?G(!1):G(!0),C(e)}(e)}},fetchData:E,total:r,scroll:{x:600,scrollToFirstRowOnChange:!0}}),y(s.a,{ref:T,onSubmit:U,title:d("deleteItem"),content:d("message.deleteConfirm")})))});O.getInitialProps=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o,u,s,d,l,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new f.a(t),n={filters:[],sorting:[]},o=t.query,u=i.b.getOptions(o,n),e.next=6,Object(p.a)(r.index(u));case 6:return s=e.sent,d=Object(c.a)(s,2),l=d[0],m=d[1],e.abrupt("return",{namespacesRequired:["common","pages","menu","errors"],error:l,userGroups:h.a.getData(m,"data",[]),total:h.a.getData(m,"total",0),defaultQuery:{filters:i.b.makeQuery(u)}});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O.permissions={root:"R"},t.default=O},qApv:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/userGroups",function(){return r("SThx")}])},rxce:function(e,t,r){"use strict";var n=r("1OyB"),a=r("Ji7U"),c=r("md7G"),o=r("foSv");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(o.a)(e);if(t){var a=Object(o.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}var i=function(e){Object(a.a)(r,e);var t=u(r);function r(e){var a;return Object(n.a)(this,r),(a=t.call(this,e)).name="userGroups",a}return r}(r("zjTY").a);t.a=i}},[["qApv",1,2,3,5,0,4,6,7,8,9,10,11]]]);
//# sourceMappingURL=userGroups.js.map