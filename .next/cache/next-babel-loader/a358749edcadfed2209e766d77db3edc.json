{"ast":null,"code":"import BaseApi from './BaseService';\n\nclass Admin extends BaseApi {\n  constructor(context) {\n    super(context);\n    this.name = 'admins';\n  }\n\n  async login({\n    data\n  }) {\n    const url = this.route(\"api.login\").href;\n    let result = (await this.Request.post(url, data)) || {}; //success\n\n    this.cookies.set('token', this.getData(result, \"token\", undefined), {\n      path: \"/\"\n    });\n    this.cookies.set('admin', this.getData(result, \"admin\", {}), {\n      path: \"/\"\n    });\n    this.redirect(\"frontend.admin.home\");\n    return result;\n  }\n\n  async changePassword(data) {\n    const url = this.route(`api.${this.name}.changePassword`, data).href;\n    let result = await this.Request.put(url, data);\n    return result.data;\n  } // async search(data: any){\n  //   const url = this.route(`api.${this.name}.search`, data).href\n  //   return await this.Request.get(url, data)\n  // }\n\n\n}\n\nexport default Admin;","map":{"version":3,"sources":["E:/DATN/nursinghome/themes/services/api/AdminService.ts"],"names":["BaseApi","Admin","constructor","context","name","login","data","url","route","href","result","Request","post","cookies","set","getData","undefined","path","redirect","changePassword","put"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,eAApB;;AAEA,MAAMC,KAAN,SAAoBD,OAApB,CAA4B;AAC1BE,EAAAA,WAAW,CAACC,OAAD,EAAoB;AAC7B,UAAMA,OAAN;AACA,SAAKC,IAAL,GAAY,QAAZ;AACD;;AAED,QAAMC,KAAN,CAAY;AAAEC,IAAAA;AAAF,GAAZ,EAAoE;AAClE,UAAMC,GAAG,GAAG,KAAKC,KAAL,CAAW,WAAX,EAAwBC,IAApC;AACA,QAAIC,MAAM,GAAG,OAAM,KAAKC,OAAL,CAAaC,IAAb,CAAkBL,GAAlB,EAAuBD,IAAvB,CAAN,KAAsC,EAAnD,CAFkE,CAGhE;;AACF,SAAKO,OAAL,CAAaC,GAAb,CAAiB,OAAjB,EAA0B,KAAKC,OAAL,CAAaL,MAAb,EAAqB,OAArB,EAA8BM,SAA9B,CAA1B,EAAoE;AAClEC,MAAAA,IAAI,EAAE;AAD4D,KAApE;AAGA,SAAKJ,OAAL,CAAaC,GAAb,CAAiB,OAAjB,EAA0B,KAAKC,OAAL,CAAaL,MAAb,EAAqB,OAArB,EAA8B,EAA9B,CAA1B,EAA4D;AAC1DO,MAAAA,IAAI,EAAE;AADoD,KAA5D;AAGA,SAAKC,QAAL,CAAc,qBAAd;AACA,WAAOR,MAAP;AACD;;AAED,QAAMS,cAAN,CAAqBb,IAArB,EAA2D;AACzD,UAAMC,GAAG,GAAG,KAAKC,KAAL,CAAY,OAAM,KAAKJ,IAAK,iBAA5B,EAA8CE,IAA9C,EAAoDG,IAAhE;AACA,QAAIC,MAAM,GAAG,MAAM,KAAKC,OAAL,CAAaS,GAAb,CAAiBb,GAAjB,EAAsBD,IAAtB,CAAnB;AACA,WAAOI,MAAM,CAACJ,IAAd;AACD,GAxByB,CAyB1B;AACA;AACA;AACA;;;AA5B0B;;AA+B5B,eAAeL,KAAf","sourcesContent":["import BaseApi from './BaseService'\r\n\r\nclass Admin extends BaseApi {\r\n  constructor(context?: Context) {\r\n    super(context);\r\n    this.name = 'admins';\r\n  }\r\n\r\n  async login({ data }: {data: {username: string, password: string}}) {\r\n    const url = this.route(\"api.login\").href\r\n    let result = await this.Request.post(url, data) || {}\r\n      //success\r\n    this.cookies.set('token', this.getData(result, \"token\", undefined), {\r\n      path: \"/\"\r\n    })\r\n    this.cookies.set('admin', this.getData(result, \"admin\", {}),{\r\n      path: \"/\"\r\n    })\r\n    this.redirect(\"frontend.admin.home\")\r\n    return result;\r\n  }\r\n  \r\n  async changePassword(data: { id: number, password: string}){\r\n    const url = this.route(`api.${this.name}.changePassword`, data).href\r\n    let result = await this.Request.put(url, data)\r\n    return result.data;\r\n  }\r\n  // async search(data: any){\r\n  //   const url = this.route(`api.${this.name}.search`, data).href\r\n  //   return await this.Request.get(url, data)\r\n  // }\r\n}\r\n\r\nexport default Admin"]},"metadata":{},"sourceType":"module"}