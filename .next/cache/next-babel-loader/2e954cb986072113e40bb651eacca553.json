{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useRouter } from 'next/router';\nimport { useTranslation } from 'themes/modules/I18n';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setStore as setStoreAction } from 'themes/components/Store';\nimport route from 'themes/route';\nimport _ from 'lodash';\nimport { notification } from 'antd';\n\nvar useBaseHooks = function useBaseHooks() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$lang = _ref.lang,\n      lang = _ref$lang === void 0 ? ['common', 'pages', 'errors'] : _ref$lang;\n\n  var router = useRouter();\n  var I18n = useTranslation(lang);\n  var dispatch = useDispatch();\n\n  var setStore = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(path, value) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", dispatch(setStoreAction(path, value)));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function setStore(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getStore = function getStore(path) {\n    return useSelector(function (state) {\n      return _.get(state, path);\n    });\n  };\n\n  var redirect = function redirect(routeName, query) {\n    var shallow = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var nextRoute;\n\n    try {\n      nextRoute = route(routeName, query);\n    } catch (e) {\n      nextRoute = {\n        href: routeName,\n        as: routeName\n      };\n    }\n\n    router.push(nextRoute.href, nextRoute.as, {\n      shallow: shallow\n    });\n  };\n\n  var getData = function getData(obj, path) {\n    var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n    var value = _.get(obj, path, defaultValue);\n\n    if (value == null) return defaultValue;\n    return value;\n  };\n\n  var notify = function notify(message) {\n    var description = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"success\";\n    notification[type]({\n      message: message,\n      description: description,\n      duration: 4 //second\n\n    });\n  };\n\n  var getAuth = function getAuth() {\n    return useSelector(function (state) {\n      return state.auth;\n    });\n  };\n\n  var getCookies = function getCookies() {\n    return useSelector(function (state) {\n      return state.cookies;\n    });\n  };\n\n  var getPublicRuntimeConfig = function getPublicRuntimeConfig() {\n    return useSelector(function (state) {\n      return state.publicRuntimeConfig;\n    });\n  };\n\n  return {\n    useSelector: useSelector,\n    router: router,\n    t: I18n.t,\n    setStore: setStore,\n    getStore: getStore,\n    redirect: redirect,\n    getData: getData,\n    notify: notify,\n    getAuth: getAuth,\n    getCookies: getCookies,\n    getPublicRuntimeConfig: getPublicRuntimeConfig\n  };\n};\n\nuseBaseHooks.getData = function (obj, path) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n  var value = _.get(obj, path, defaultValue);\n\n  if (value == null) return defaultValue;\n  return value;\n};\n\nexport default useBaseHooks;","map":{"version":3,"sources":["E:/DATN/nursinghome/themes/hooks/BaseHooks.tsx"],"names":["useRouter","useTranslation","useDispatch","useSelector","setStore","setStoreAction","route","_","notification","useBaseHooks","lang","router","I18n","dispatch","path","value","getStore","state","get","redirect","routeName","query","shallow","nextRoute","e","href","as","push","getData","obj","defaultValue","undefined","notify","message","description","type","duration","getAuth","auth","getCookies","cookies","getPublicRuntimeConfig","publicRuntimeConfig","t"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router'\r\nimport { useTranslation } from 'themes/modules/I18n'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { setStore as setStoreAction } from 'themes/components/Store'\r\nimport route from 'themes/route'\r\nimport _ from 'lodash'\r\nimport { notification } from 'antd'\r\ninterface BaseBook {\r\n    useSelector: Function,\r\n    router: any,\r\n    t: Function,\r\n    setStore: Function,\r\n    getStore: Function,\r\n    redirect: Function,\r\n    getData: Function,\r\n    notify: Function,\r\n    getAuth: Function\r\n    getCookies: Function,\r\n    getPublicRuntimeConfig: Function\r\n}\r\nconst useBaseHooks =  ({ lang = ['common', 'pages', 'errors'],} : { lang?: string[], } = {}): BaseBook => {\r\n    const router = useRouter()\r\n    const I18n = useTranslation(lang)\r\n    const dispatch = useDispatch();\r\n\r\n    const setStore = async (path: string, value: any): Promise<any> => {\r\n        return dispatch(setStoreAction(path, value))\r\n    }\r\n\r\n    const getStore = (path: string): any => {\r\n        return useSelector((state: any) => _.get(state, path))\r\n    }\r\n\r\n    const redirect = (routeName: string, query: string, shallow: boolean = false): void => {\r\n        let nextRoute;\r\n        try {\r\n            nextRoute = route(routeName, query)\r\n        }\r\n        catch (e) {\r\n            nextRoute = {\r\n                href: routeName,\r\n                as: routeName\r\n            }\r\n        }\r\n\r\n        router.push(nextRoute.href, nextRoute.as, {\r\n            shallow\r\n        })\r\n    }\r\n    const getData = (obj: any, path: string, defaultValue: any = undefined): any => {\r\n        let value = _.get(obj, path, defaultValue)\r\n        if (value == null) return defaultValue\r\n        return value\r\n    }\r\n\r\n    const notify = (message: string, description: string = '', type: \"success\" | \"error\" | \"warning\" = \"success\"): void => {\r\n        notification[type]({\r\n            message: message,\r\n            description: description,\r\n            duration: 4 //second\r\n        });\r\n    }\r\n\r\n    const getAuth = (): any => {\r\n        return useSelector((state: any) => state.auth)\r\n    }\r\n    const getCookies = (): any => {\r\n        return useSelector((state: any) => state.cookies)\r\n    }\r\n    const getPublicRuntimeConfig = (): any => {\r\n        return useSelector((state: any) => state.publicRuntimeConfig)\r\n    }\r\n\r\n    return {\r\n        useSelector,\r\n        router,\r\n        t: I18n.t,\r\n        setStore,\r\n        getStore,\r\n        redirect,\r\n        getData,\r\n        notify,\r\n        getAuth,\r\n        getCookies,\r\n        getPublicRuntimeConfig\r\n    };\r\n}\r\n\r\nuseBaseHooks.getData =  (obj: any, path: string, defaultValue: any = undefined): any => {\r\n    let value = _.get(obj, path, defaultValue)\r\n    if (value == null) return defaultValue\r\n    return value\r\n}\r\n\r\nexport default useBaseHooks"]},"metadata":{},"sourceType":"module"}