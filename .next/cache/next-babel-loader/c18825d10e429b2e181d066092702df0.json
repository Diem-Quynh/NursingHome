{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\DATN\\\\nursinghome\\\\themes\\\\layouts\\\\admin\\\\Menu.tsx\";\n\nvar __jsx = React.createElement;\nimport React, { Fragment } from 'react';\nimport { Menu } from 'antd';\nvar SubMenu = Menu.SubMenu;\nimport sidebar from 'themes/sidebar';\nimport { getSidebarSelecteds } from 'themes/route';\nimport _routes from 'themes/_routes.json';\nimport useBaseHook from 'themes/hooks/BaseHooks';\nimport usePermissionHook from 'themes/hooks/PermissionHook';\n\nvar MenuComponent = function MenuComponent(props) {\n  var _useBaseHook = useBaseHook({\n    lang: ['menu']\n  }),\n      router = _useBaseHook.router,\n      t = _useBaseHook.t,\n      redirect = _useBaseHook.redirect;\n\n  var _usePermissionHook = usePermissionHook(),\n      checkPermission = _usePermissionHook.checkPermission;\n\n  var getRouteName = function getRouteName() {\n    var routePath = router.pathname;\n    var routeData = _routes;\n\n    for (var routeName in routeData) {\n      var routeElement = routeData[routeName];\n      if (!routeElement.action) continue;\n      if (routeElement.action.substr(5) === routePath) return routeName;\n    }\n  };\n\n  var generateMenus = function generateMenus(data) {\n    return data.map(function (item) {\n      if (item.children) {\n        if (item.type === \"group\") {\n          var children = generateMenus(item.children);\n          if (!children.length) return;\n          return __jsx(Menu.ItemGroup, {\n            key: item.routeName,\n            title: __jsx(Fragment, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 17\n              }\n            }, item.icon ? item.icon : '', __jsx(\"span\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 19\n              }\n            }, t(item.routeName))),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 13\n            }\n          }, children);\n        } else {\n          return __jsx(SubMenu, {\n            key: item.routeName,\n            title: __jsx(Fragment, {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 17\n              }\n            }, item.icon ? item.icon : '', __jsx(\"span\", {\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }\n            }, t(item.routeName))),\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 13\n            }\n          }, generateMenus(item.children));\n        }\n      }\n\n      if (!checkPermission(item.permissions)) return;\n      return __jsx(Menu.Item, {\n        key: item.routeName,\n        onClick: function onClick() {\n          return redirect(item.routeName);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, item.icon ? item.icon : '', __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, t(item.routeName)));\n    }).filter(function (menu) {\n      return menu;\n    });\n  };\n\n  var theme = props.theme,\n      onCollapseChange = props.onCollapseChange,\n      isMobile = props.isMobile,\n      tReady = props.tReady,\n      otherProps = _objectWithoutProperties(props, [\"theme\", \"onCollapseChange\", \"isMobile\", \"tReady\"]);\n\n  var currentRouteName = getRouteName();\n  var breadcums = getSidebarSelecteds(currentRouteName);\n  var routerNames = breadcums.map(function (breadcum) {\n    return breadcum.routeName;\n  });\n  var selectedKeys = routerNames.pop();\n  return __jsx(Menu, _extends({\n    mode: \"inline\",\n    theme: theme,\n    defaultOpenKeys: routerNames,\n    selectedKeys: selectedKeys,\n    onClick: isMobile ? function () {\n      onCollapseChange(true);\n    } : undefined\n  }, otherProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }\n  }), generateMenus(sidebar));\n};\n\nexport default MenuComponent;","map":{"version":3,"sources":["E:/DATN/nursinghome/themes/layouts/admin/Menu.tsx"],"names":["React","Fragment","Menu","SubMenu","sidebar","getSidebarSelecteds","_routes","useBaseHook","usePermissionHook","MenuComponent","props","lang","router","t","redirect","checkPermission","getRouteName","routePath","pathname","routeData","routeName","routeElement","action","substr","generateMenus","data","map","item","children","type","length","icon","permissions","filter","menu","theme","onCollapseChange","isMobile","tReady","otherProps","currentRouteName","breadcums","routerNames","breadcum","selectedKeys","pop","undefined"],"mappings":"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","sourcesContent":["\r\nimport React, { Fragment } from 'react';\r\nimport { Menu } from 'antd';\r\nconst { SubMenu } = Menu\r\nimport sidebar from 'themes/sidebar'\r\nimport { getSidebarSelecteds } from 'themes/route'\r\nimport _routes from 'themes/_routes.json'\r\nimport useBaseHook from 'themes/hooks/BaseHooks'\r\nimport usePermissionHook from 'themes/hooks/PermissionHook'\r\n\r\nconst MenuComponent = (props: any) => {\r\n  const { router, t, redirect } = useBaseHook({ lang: ['menu'] })\r\n  const {checkPermission} = usePermissionHook()\r\n  const getRouteName = () => {\r\n    const routePath = router.pathname\r\n    const routeData: any = _routes\r\n    for (let routeName in routeData) {\r\n      let routeElement = routeData[routeName]\r\n      if (!routeElement.action) continue;\r\n      if (routeElement.action.substr(5) === routePath) return routeName\r\n    }\r\n  }\r\n\r\n  const generateMenus = (data: any) => {\r\n    return data.map((item: any) => {\r\n      if (item.children) {\r\n        if (item.type === \"group\") {\r\n          let children = generateMenus(item.children)\r\n          if (!children.length) return;\r\n          return (\r\n            <Menu.ItemGroup\r\n              key={item.routeName}\r\n              title={\r\n                <Fragment>\r\n                  {item.icon? item.icon: ''}\r\n                  <span>{t(item.routeName)}</span>\r\n                </Fragment>\r\n              }\r\n            >\r\n              {children}\r\n            </Menu.ItemGroup>\r\n          );\r\n        }\r\n        else {\r\n          return (\r\n            <SubMenu\r\n              key={item.routeName}\r\n              title={\r\n                <Fragment>\r\n                  {item.icon? item.icon: ''}\r\n                  <span>{t(item.routeName)}</span>\r\n                </Fragment>\r\n              }\r\n            >\r\n              {generateMenus(item.children)}\r\n            </SubMenu>\r\n          );\r\n        }\r\n      }\r\n      if(!checkPermission(item.permissions)) return\r\n      return (\r\n        <Menu.Item key={item.routeName} onClick={() => redirect(item.routeName)}\r\n        >\r\n          {item.icon? item.icon: ''}\r\n          <span>{t(item.routeName)}</span>\r\n        </Menu.Item>\r\n      );\r\n    }).filter((menu:any) => menu);\r\n  }\r\n\r\n  const { theme, onCollapseChange, isMobile, tReady, ...otherProps } = props\r\n  const currentRouteName = getRouteName()\r\n  const breadcums = getSidebarSelecteds(currentRouteName)\r\n  let routerNames = breadcums.map((breadcum: any) => breadcum.routeName)\r\n  const selectedKeys = routerNames.pop()\r\n  return <Menu\r\n    mode=\"inline\"\r\n    theme={theme}\r\n    defaultOpenKeys={routerNames}\r\n    selectedKeys={selectedKeys}\r\n    onClick={\r\n      isMobile\r\n        ? () => {\r\n          onCollapseChange(true)\r\n        }\r\n        : undefined\r\n    }\r\n    {...otherProps}\r\n  >\r\n    {generateMenus(sidebar)}\r\n  </Menu>\r\n}\r\n\r\nexport default MenuComponent"]},"metadata":{},"sourceType":"module"}