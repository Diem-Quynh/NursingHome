{"map":{"version":3,"sources":["static\\JgaW8S3b7VFbK1JuVH62f\\pages\\admin\\doctorAssignments.js"],"names":["window","push","4s5y","module","__webpack_exports__","__webpack_require__","r","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","themes_layouts_Admin__WEBPACK_IMPORTED_MODULE_3__","themes_components_Table__WEBPACK_IMPORTED_MODULE_4__","themes_components_Dialogs_ConfirmDialog__WEBPACK_IMPORTED_MODULE_5__","antd__WEBPACK_IMPORTED_MODULE_6__","themes_services_api_DoctorAssignmentService__WEBPACK_IMPORTED_MODULE_7__","await_to_js__WEBPACK_IMPORTED_MODULE_8__","react__WEBPACK_IMPORTED_MODULE_9__","react__WEBPACK_IMPORTED_MODULE_9___default","themes_hooks_BaseHooks__WEBPACK_IMPORTED_MODULE_10__","themes_hooks_PermissionHook__WEBPACK_IMPORTED_MODULE_11__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_12__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_13__","__jsx","a","createElement","formaterDate","value","String","substr","concat","Index","_ref","doctorAssigns","total","_useBaseHook","Object","t","notify","redirect","_useState","setStore","getAuth","getStore","hiddenDeleteBtn","setHiddenDeleteBtn","_useState2","selectedIds","setSelectedIds","doctorAssignService","confirmRef","createRef","tableRef","checkPermission","createPer","admin.doctorAssignments","deletePer","admin.doctorAssignment","columns","title","dataIndex","key","sorter","filterable","render","text","record","onClick","id","doctorCode","fullname","width","filterDate","fetchData","_ref2","mark","_callee","values","_yield$to","_yield$to2","error","code","message","wrap","_context","prev","next","index","sent","abrupt","stop","_x","apply","this","arguments","onDelete","_ref3","_callee2","_yield$to3","_yield$to4","_context2","ids","current","reload","className","hidden","type","danger","show","ref","data","rowSelection","selectedRowKeys","onChange","length","onChangeSelection","onSubmit","content","getInitialProps","_ref4","_callee3","ctx","defaultOptions","query","filters","_yield$to5","_yield$to6","_context3","sorting","getOptions","namespacesRequired","getData","defaultQuery","makeQuery","_x2","permissions","doctor.doctorAssignments","admin.users.doctorAssignments","KgEX","exports","__NEXT_P","tkEX","_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","constructor","DoctorAssignment","_BaseApi","_super","context","_this","name"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{\"4s5y\":function(t,e,n){\"use strict\";n.r(e);var r=n(\"o0o1\"),a=n.n(r),o=n(\"ODXe\"),c=n(\"HaE+\"),s=n(\"dk5U\"),i=n(\"ihUu\"),u=n(\"jz6S\"),d=n(\"2/Rp\"),f=n(\"tkEX\"),l=n(\"FxId\"),m=n(\"q1tI\"),p=n.n(m),g=n(\"38j0\"),b=n(\"6nNS\"),h=n(\"w5pM\"),w=n(\"/MfK\"),y=p.a.createElement,v=function(t){return t=(t=t?String(t):\"\").substr(0,10),\"\".concat(t)},j=function(t){var e=t.doctorAssigns,n=t.total,r=Object(g.a)(),j=r.t,O=r.notify,k=r.redirect,x=(r.setStore,r.getAuth,r.getStore,Object(m.useState)(!0)),A=x[0],R=x[1],E=Object(m.useState)([]),S=E[0],D=E[1],C=new f.a,I=p.a.createRef(),X=p.a.createRef(),N=Object(b.a)().checkPermission,_=N({\"admin.doctorAssignments\":\"C\"}),P=N({\"admin.doctorAssignment\":\"D\"}),B=[{title:j(\"doctor\"),dataIndex:\"fullname\",key:\"users.fullname\",sorter:!0,filterable:!0,render:function(t,e){return y(\"a\",{onClick:function(){return k(\"frontend.admin.doctorAssignments.edit\",{id:e.id})}},e.doctorCode,\" - \",e.fullname)}},{title:j(\"room\"),dataIndex:\"roomCode\",key:\"roomCode\",sorter:!0,filterable:!0,width:\"15%\"},{title:j(\"doctorAssignments.dateBegin\"),dataIndex:\"dateBegin\",key:\"dateBegin\",sorter:!0,filterDate:!0,width:\"15%\",render:function(t,e){return y(\"div\",null,v(t))}},{title:j(\"doctorAssignments.dateEnd\"),dataIndex:\"dateEnd\",key:\"dateEnd\",sorter:!0,filterDate:!0,width:\"15%\",render:function(t,e){return y(\"div\",null,v(t))}},{title:j(\"note\"),dataIndex:\"note\",key:\"note\"}],K=function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c,s,i,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)(C.index(e));case 2:if(n=t.sent,r=Object(o.a)(n,2),c=r[0],s=r[1],!c){t.next=10;break}return i=c.code,u=c.message,O(j(\"errors:\".concat(i)),j(u),\"error\"),t.abrupt(\"return\",{});case 10:return t.abrupt(\"return\",s);case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=function(){var t=Object(c.a)(a.a.mark((function t(){var e,n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)(C.delete({ids:S}));case 2:if(e=t.sent,n=Object(o.a)(e,2),r=n[0],n[1],!r){t.next=8;break}return t.abrupt(\"return\",O(j(\"errors:\".concat(r.code)),j(\"\".concat(r.message)),\"error\"));case 8:O(j(\"message.recordDeleted\")),null!==X.current&&X.current.reload(),D([]),R(!0);case 12:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return y(s.a,null,y(\"div\",{className:\"content\"},y(d.a,{hidden:!_,onClick:function(){return k(\"frontend.admin.doctorAssignments.create\")},type:\"primary\",className:\"btn-top\"},y(h.a,null),j(\"create\")),y(d.a,{danger:!0,onClick:function(){I.current&&I.current.show()},className:\"btn-top\",hidden:A||!P},y(w.a,null),j(\"delete\")),y(i.a,{ref:X,columns:B,data:e,rowSelection:{selectedRowKeys:S,onChange:function(t){return function(t){t.length>0?R(!1):R(!0),D(t)}(t)}},fetchData:K,total:n}),y(u.a,{ref:I,onSubmit:q,title:j(\"deleteItem\"),content:j(\"message.deleteConfirm\")})))};j.getInitialProps=function(){var t=Object(c.a)(a.a.mark((function t(e){var n,r,c,s,u,d,m,p;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new f.a(e),r={filters:[],sorting:[]},c=e.query,s=i.b.getOptions(c,r),t.next=6,Object(l.a)(n.index(s));case 6:return u=t.sent,d=Object(o.a)(u,2),m=d[0],p=d[1],t.abrupt(\"return\",{namespacesRequired:[\"common\",\"pages\",\"menu\",\"errors\"],error:m,doctorAssigns:g.a.getData(p,\"data\",[]),total:g.a.getData(p,\"total\",0),defaultQuery:{filters:i.b.makeQuery(s)}});case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j.permissions={\"admin.doctorAssignments\":\"R\",\"doctor.doctorAssignments\":\"R\",\"admin.users.doctorAssignments\":\"R\"},e.default=j},KgEX:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/doctorAssignments\",function(){return n(\"4s5y\")}])},tkEX:function(t,e,n){\"use strict\";var r=n(\"1OyB\"),a=n(\"Ji7U\"),o=n(\"md7G\"),c=n(\"foSv\");function s(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}var i=function(t){Object(a.a)(n,t);var e=s(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).name=\"doctorAssignments\",a}return n}(n(\"zjTY\").a);e.a=i}},[[\"KgEX\",1,2,3,5,0,4,6,7,8,9,10,11]]]);","extractedComments":[]}